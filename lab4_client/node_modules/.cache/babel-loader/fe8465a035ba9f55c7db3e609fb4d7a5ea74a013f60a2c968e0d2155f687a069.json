{"ast":null,"code":"async function fetchInventory(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error('${url} returned status ${response.status}');\n    }\n    return response.json();\n  });\n}\nasync function fetchIngredient(category, item) {\n  return fetchInventory(\"http://localhost:8080/\" + category + \"/\" + item);\n}\nexport default async function fetchAllIngredients() {\n  const [foundations, proteins, extras, dressings] = await Promise.all([fetchInventory(\"http://localhost:8080/foundations/\"), fetchInventory(\"http://localhost:8080/proteins/\"), fetchInventory(\"http://localhost:8080/extras/\"), fetchInventory(\"http://localhost:8080/dressings/\")]);\n  console.log(foundations);\n  let finalFoundations = Object.assign({}, ...(await Promise.all(foundations.map(async x => {\n    return {\n      [x]: await fetchIngredient(\"foundations\", x)\n    };\n  }))));\n  return {\n    finalFoundations,\n    proteins,\n    extras,\n    dressings\n  };\n}","map":{"version":3,"names":["fetchInventory","url","fetch","then","response","ok","Error","json","fetchIngredient","category","item","fetchAllIngredients","foundations","proteins","extras","dressings","Promise","all","console","log","finalFoundations","Object","assign","map","x"],"sources":["/Users/ludwigcederberg/Documents/University/Courses/Webbprogrammering/lab4/lab4_client/src/fetchInventory.js"],"sourcesContent":["\nasync function fetchInventory(url){\n  return fetch(url)\n  .then(response => {\n    if(!response.ok) {\n      throw new Error('${url} returned status ${response.status}');\n    }\n    return response.json();\n  });\n}\n\n\n\nasync function fetchIngredient(category, item){\n  return fetchInventory(\"http://localhost:8080/\" + category + \"/\" + item);\n}\n\nexport default async function fetchAllIngredients() {\n  const [foundations, proteins, extras, dressings] = await Promise.all([\n    fetchInventory(\"http://localhost:8080/foundations/\"),\n    fetchInventory(\"http://localhost:8080/proteins/\"), \n    fetchInventory(\"http://localhost:8080/extras/\"),\n    fetchInventory(\"http://localhost:8080/dressings/\")\n  ]);\n\n  console.log(foundations)\n\n  let finalFoundations = Object.assign({}, ...await Promise.all(foundations.map(async (x) => { \n    return {[x]: await fetchIngredient(\"foundations\", x)}\n  })))\n\n  \n\n  return {\n    finalFoundations, \n    proteins, \n    extras, \n    dressings,\n  };\n}"],"mappings":"AACA,eAAeA,cAAcA,CAACC,GAAG,EAAC;EAChC,OAAOC,KAAK,CAACD,GAAG,CAAC,CAChBE,IAAI,CAACC,QAAQ,IAAI;IAChB,IAAG,CAACA,QAAQ,CAACC,EAAE,EAAE;MACf,MAAM,IAAIC,KAAK,CAAC,2CAA2C,CAAC;IAC9D;IACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC;AACJ;AAIA,eAAeC,eAAeA,CAACC,QAAQ,EAAEC,IAAI,EAAC;EAC5C,OAAOV,cAAc,CAAC,wBAAwB,GAAGS,QAAQ,GAAG,GAAG,GAAGC,IAAI,CAAC;AACzE;AAEA,eAAe,eAAeC,mBAAmBA,CAAA,EAAG;EAClD,MAAM,CAACC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACnEjB,cAAc,CAAC,oCAAoC,CAAC,EACpDA,cAAc,CAAC,iCAAiC,CAAC,EACjDA,cAAc,CAAC,+BAA+B,CAAC,EAC/CA,cAAc,CAAC,kCAAkC,CAAC,CACnD,CAAC;EAEFkB,OAAO,CAACC,GAAG,CAACP,WAAW,CAAC;EAExB,IAAIQ,gBAAgB,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAG,MAAMN,OAAO,CAACC,GAAG,CAACL,WAAW,CAACW,GAAG,CAAC,MAAOC,CAAC,IAAK;IACzF,OAAO;MAAC,CAACA,CAAC,GAAG,MAAMhB,eAAe,CAAC,aAAa,EAAEgB,CAAC;IAAC,CAAC;EACvD,CAAC,CAAC,CAAC,EAAC;EAIJ,OAAO;IACLJ,gBAAgB;IAChBP,QAAQ;IACRC,MAAM;IACNC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}