{"ast":null,"code":"import { v4 as uuidv4 } from 'uuid';\nimport inventory from './inventory.mjs';\nclass Salad {\n  constructor(salad) {\n    this.uuid = uuidv4();\n    if (arguments.length > 0) {\n      var _salad$uuid;\n      this.ingredients = {\n        ...salad.ingredients\n      };\n      this.uuid = (_salad$uuid = salad.uuid) !== null && _salad$uuid !== void 0 ? _salad$uuid : this.uuid;\n    } else {\n      this.ingredients = {};\n    }\n    this.id = \"salad_\" + Salad.instanceCounter++;\n  }\n  add(name, properties) {\n    this.ingredients[name] = properties;\n    return this;\n  }\n  remove(name) {\n    if (this.ingredients.hasOwnProperty(name)) {\n      delete this.ingredients[name];\n    } else {\n      console.error(`Invalid ingredient: ${name}`);\n    }\n    return this;\n  }\n  getPrice() {\n    let sum = 0;\n    console.log(Object.keys(this.ingredients));\n    Object.keys(this.ingredients).forEach(k => {\n      if (k == 'extra') {\n        Object.keys(this.ingredients[k]).forEach(kc => {\n          console.log(inventory[kc]);\n          sum += inventory[kc].price;\n        });\n      }\n      console.log(inventory[this.ingredients[k]]);\n      sum += inventory[this.ingredients[k]].price;\n    });\n    return sum;\n  }\n  count(prop) {\n    return Object.values(this.ingredients).filter(x => x[prop]).reduce((sum, x) => sum += 1, 0);\n  }\n  static parse(json) {\n    const parsed = JSON.parse(json);\n    if (Array.isArray(parsed)) {\n      let res = [];\n      for (let i = 0; i < parsed.length; i++) {\n        res.push(new Salad(parsed[i]));\n      }\n      return res;\n    } else {\n      return new Salad(parsed);\n    }\n  }\n}\nSalad.instanceCounter = 0;\nexport default Salad;","map":{"version":3,"names":["v4","uuidv4","inventory","Salad","constructor","salad","uuid","arguments","length","_salad$uuid","ingredients","id","instanceCounter","add","name","properties","remove","hasOwnProperty","console","error","getPrice","sum","log","Object","keys","forEach","k","kc","price","count","prop","values","filter","x","reduce","parse","json","parsed","JSON","Array","isArray","res","i","push"],"sources":["/Users/ludwigcederberg/Documents/University/Courses/Webbprogrammering/Lab2/lab2/src/Salad.js"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\n\nimport inventory from './inventory.mjs';\n\nclass Salad {\n  constructor(salad) {\n    this.uuid = uuidv4();\n    if (arguments.length > 0){\n      this.ingredients = {...(salad.ingredients)};\n      this.uuid = (salad.uuid ?? this.uuid);\n    } else {\n      this.ingredients = {};\n    }\n    this.id = \"salad_\" + Salad.instanceCounter++;\n    \n  }\n\n  static instanceCounter = 0;\n  \n\n  add(name, properties) {\n    this.ingredients[name] = properties;\n    return this;\n  }\n\n  remove(name) {\n    if (this.ingredients.hasOwnProperty(name)) {\n      delete this.ingredients[name];\n    } else {\n      console.error(`Invalid ingredient: ${name}`);\n    }\n    return this;\n  }\n\n  getPrice () {\n    let sum = 0;\n    console.log(Object.keys(this.ingredients))\n    Object.keys(this.ingredients).forEach(k => {\n      if (k == 'extra') {\n        Object.keys(this.ingredients[k]).forEach(kc => {\n          console.log(inventory[kc])\n          sum += inventory[kc].price\n        })\n      }\n      console.log(inventory[this.ingredients[k]])\n      sum += inventory[this.ingredients[k]].price\n    })\n    return sum\n  }\n\n  count(prop) {\n    return Object.values(this.ingredients).filter((x) => x[prop]).reduce((sum, x) => sum += 1, 0);\n  }\n\n  static parse(json) {\n    const parsed = JSON.parse(json);\n    if (Array.isArray(parsed)){\n      let res = []\n        for (let i = 0; i < (parsed.length); i++) {\n          res.push(new Salad(parsed[i]));\n        }\n        return res;\n      } else {\n        return new Salad(parsed);\n      }\n  } \n}\n\nexport default Salad;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}