{"ast":null,"code":"async function fetchInventory(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error('${url} returned status ${response.status}');\n    }\n    return response.json();\n  });\n}\nasync function fetchSpecificFoundation(foundation) {\n  return fetchInventory(\"http://localhost:8080/foundations/\" + foundation);\n}\nexport default async function fetchAllIngredients() {\n  const [foundations, proteins, extras, dressings] = await Promise.all([fetchInventory(\"http://localhost:8080/foundations/\"), fetchInventory(\"http://localhost:8080/proteins/\"), fetchInventory(\"http://localhost:8080/extras/\"), fetchInventory(\"http://localhost:8080/dressings/\")]);\n  console.log(foundations);\n  let finalFoundations = await Promise.all(foundations.map(async x => {\n    return {\n      [x]: await fetchSpecificFoundation(x)\n    };\n  }));\n  console.log(...finalFoundations);\n  return {\n    finalFoundations,\n    proteins,\n    extras,\n    dressings\n  };\n}","map":{"version":3,"names":["fetchInventory","url","fetch","then","response","ok","Error","json","fetchSpecificFoundation","foundation","fetchAllIngredients","foundations","proteins","extras","dressings","Promise","all","console","log","finalFoundations","map","x"],"sources":["/Users/ludwigcederberg/Documents/University/Courses/Webbprogrammering/lab4/lab4_client/src/fetchInventory.js"],"sourcesContent":["\nasync function fetchInventory(url){\n  return fetch(url)\n  .then(response => {\n    if(!response.ok) {\n      throw new Error('${url} returned status ${response.status}');\n    }\n    return response.json();\n  });\n}\n\n\n\nasync function fetchSpecificFoundation(foundation){\n  return fetchInventory(\"http://localhost:8080/foundations/\" + foundation);\n}\n\nexport default async function fetchAllIngredients() {\n  const [foundations, proteins, extras, dressings] = await Promise.all([\n    fetchInventory(\"http://localhost:8080/foundations/\"),\n    fetchInventory(\"http://localhost:8080/proteins/\"), \n    fetchInventory(\"http://localhost:8080/extras/\"),\n    fetchInventory(\"http://localhost:8080/dressings/\")\n  ]);\n\n  console.log(foundations)\n\n  let finalFoundations = await Promise.all(foundations.map(async (x) => { \n    return {[x]: await fetchSpecificFoundation(x)}\n  }));\n\n  console.log(...finalFoundations)\n\n  return {\n    finalFoundations, \n    proteins, \n    extras, \n    dressings,\n  };\n}"],"mappings":"AACA,eAAeA,cAAcA,CAACC,GAAG,EAAC;EAChC,OAAOC,KAAK,CAACD,GAAG,CAAC,CAChBE,IAAI,CAACC,QAAQ,IAAI;IAChB,IAAG,CAACA,QAAQ,CAACC,EAAE,EAAE;MACf,MAAM,IAAIC,KAAK,CAAC,2CAA2C,CAAC;IAC9D;IACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC;AACJ;AAIA,eAAeC,uBAAuBA,CAACC,UAAU,EAAC;EAChD,OAAOT,cAAc,CAAC,oCAAoC,GAAGS,UAAU,CAAC;AAC1E;AAEA,eAAe,eAAeC,mBAAmBA,CAAA,EAAG;EAClD,MAAM,CAACC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACnEhB,cAAc,CAAC,oCAAoC,CAAC,EACpDA,cAAc,CAAC,iCAAiC,CAAC,EACjDA,cAAc,CAAC,+BAA+B,CAAC,EAC/CA,cAAc,CAAC,kCAAkC,CAAC,CACnD,CAAC;EAEFiB,OAAO,CAACC,GAAG,CAACP,WAAW,CAAC;EAExB,IAAIQ,gBAAgB,GAAG,MAAMJ,OAAO,CAACC,GAAG,CAACL,WAAW,CAACS,GAAG,CAAC,MAAOC,CAAC,IAAK;IACpE,OAAO;MAAC,CAACA,CAAC,GAAG,MAAMb,uBAAuB,CAACa,CAAC;IAAC,CAAC;EAChD,CAAC,CAAC,CAAC;EAEHJ,OAAO,CAACC,GAAG,CAAC,GAAGC,gBAAgB,CAAC;EAEhC,OAAO;IACLA,gBAAgB;IAChBP,QAAQ;IACRC,MAAM;IACNC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}